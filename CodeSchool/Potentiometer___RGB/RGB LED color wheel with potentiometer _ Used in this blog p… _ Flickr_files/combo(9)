YUI.add("analytics",function(e,n){e.Analytics=(function(){function n(){return document.querySelectorAll("script[src*=adobedtm\\.com]").length<2||!window.s}function a(e){c=e=void 0===e||e,n()&&(c=!1),l("Adobe Analytics enabled: "+c)}function t(e){l("Debugging logging enabled: "+(u=e=void 0===e||e))}function i(e,n){n=n||"CTA Link Clicked",window.appEventData.push({linkInfo:{linkId:e},event:n})}function o(e){if(!n())try{e=e||window.appContext.flapp.get("activeView").name,c&&(!(function(e,n){var a,t={bubbles:!0,cancelable:!0,detail:n};document.createEvent&&document.body.dispatchEvent?((a=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),document.body.dispatchEvent(a)):window.CustomEvent&&document.body.dispatchEvent&&(a=new CustomEvent(e,t),document.body.dispatchEvent(a))})("sendPageView",window.dataLayer),l("Adobe Analytics PageView: "+e+", "+document.location.pathname))}catch(e){l(e)}}function r(){var n=window.appContext.flapp.get("activeView");l("learning"),window.dataLayer={page:{pageInfo:{pageID:"",pageName:"",destinationURL:"",referringURL:"",onsiteSearchTerm:"",language:"",country:"",geoRegion:"",author:"",pageType:""}},product:[],events:[],cart:{},transaction:{transactionID:"",total:{basePrice:0,voucherCode:"",voucherDiscount:0,currency:"",taxRate:0,shipping:0,shippingMethod:"",priceWithTax:0,transactionTotal:0,item:[]}},user:{profile:{profileInfo:{profileID:"",userName:"",language:"",intl:"",signedIn:""},address:"",social:{facebook:"",facebookInfo:"",twitter:"",twitterInfo:""},segment:{isNewRegistration:null,isUserNewCustomer:null,isLoggedIn:null,customerClassDimension:"",visitorLifetimeValue:0}}}};try{var a=window.appContext&&window.appContext.getViewer?window.appContext.getViewer():null;a&&(a.signedIn?(window.dataLayer.user.profile.profileInfo.signedIn="signedIn",window.dataLayer.user.profile.profileInfo.profileID=e.murmurhash(a.nsid,a.nsid+" insecure truffle salt"),window.dataLayer.user.profile.profileInfo.intl=a.intl,window.dataLayer.user.profile.segment.customerClassDimension=a.isPro?"pro":"free"):window.dataLayer.user.profile.profileInfo.signedIn="signedOut"),window.navigator&&window.navigator.language&&(window.dataLayer.user.profile.profileInfo.language=window.navigator.language),window.dataLayer.page.pageInfo.pageID=e.murmurhash(document.title,document.title+" insecure hawaiian volcano salt"),window.dataLayer.page.pageInfo.pageName=n.name,window.dataLayer.page.pageInfo.destinationURL=document.location.href}catch(e){l("learn() blew up.",e)}}function d(n,a){e.Object.setValue(window.dataLayer,n.split("."),a)}function l(e,n){u&&console.info("[Analytics] ",e,n)}var s,c=!1,u=!1;return s||(window.appEventData=window.appEventData||[],e.one("body").delegate("click",function(e){i(e.target.ancestor("[data-link-id]",!0).getAttribute("data-link-id"))},"a[data-link-id]"),s={sendPageView:o,sendClick:i,enableAdobeAnalytics:a,enableDebugging:t,learn:r,setDataLayerProp:d}),s})()},"@VERSION@",{requires:["murmurhash"],affinity:"client"});YUI.add("client-app",function(e,i){function n(){y=!1}function t(i){var n,t,r=window.location,a=window.history,o=!1;if(r.search&&a.replaceState&&(n=e.QueryString.parse(r.search.replace("?","")),i.forEach(function(e){e in n&&(delete n[e],o=!0)}),o)){t=e.QueryString.stringify(n);try{a.replaceState({},"",r.pathname+(t?"?"+t:""))}catch(e){}}}function r(e,i){return i.betterUse(e,i)}function a(i){var n,t,r,a,o=[],s=["flickr.photos.addView","flickr.groups.updateViewDate","flickr.photos.getPhotos","flickr.people.addView","flickr.photosets.addView"];if(w.getViewCounter().flushQueue(),w.uploadIsInProgress())a=this.intlMessage({intlName:"client-app.UPLOAD_IN_PROGRESS"});else{for(n in w.writeAPICallsMadeOnThisPage)(t=w.writeAPICallsMadeOnThisPage[n]).completed||o.push(t);o.length&&(o.every(function(e){return-1!==s.indexOf(e.methodName)})||(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod?(r=o.map(function(e){return e.methodName}).join(", "),a=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})+" In progress API Methods: "+r):a=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})))}return e.Storage.Instance.clear(),a&&((i||window.event).returnValue=a),a}function o(i){if(!y)return window.location=i.url,void i.halt();w.setClientSideRouted(!0),w.setPreviousLocation(),w.updateModelRefetchState(i.url,i.originEvent&&i.originEvent.currentTarget&&i.originEvent.currentTarget.hasClass("do-not-evict")),w.clearWriteAPICallCache(),w.setGPCredentials(null),e.loaderBar.start(),w.adManager.isEnabled()&&w.adManager.currentlyShowingAd&&w.adManager.adIsUnloading(),w.getKeyboardManager().resetCurrentKeyEventScope(),e.Object.each(w.modelRegistries,function(e,i){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),v=!0}function s(){e.UA.chrome>0&&(window.scrollTo(window.scrollX,window.scrollY+1),window.scrollTo(window.scrollX,window.scrollY-1))}function c(i){e.Object.each(w.modelRegistries,function(e,i){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),e.fire("close-dialogs"),"popstate"===i.src&&s(),"popstate"!==i.src||h.hasRoute(h.getPath())||e.Object.isEmpty(i.newVal)||h.navigate(h.getPath()),w.getViewCounter().flushQueue({resetDuplicateTracking:!0}),v||w.updateModelRefetchState(),v=!1}function l(e){h.set("previousView",e.prevVal)}function u(i,n){n=n||h.get("activeView"),e.rapidTracker.getConf(n,w,i).then(function(i){e.rapidTracker.init(i)})}function d(i,n){e.rapidTracker&&e.rapidTracker.destroy&&e.rapidTracker.destroy(),u(i,n)}function p(i){var n=this.get("activeView");if(void 0===n.getViewDataFromHistory("referrer")&&n.setViewDataOnHistory("referrer",w.getPreviousURL()),d(),e.Analytics&&(e.Analytics.learn(),n.updateDataLayer(),e.Analytics.sendPageView()),e.DeferImages.update(),w.adManager.setAdCouldBeShown(!1),e.config.win.onappclientnav)try{e.config.win.onappclientnav()}catch(i){}e.Accessibility.manageFocusOutlines(n),e.rapidTracker.beaconScroll(n),void 0!==window._sift&&window._sift.push&&window._sift.push(["_trackPageview"])}function f(i){return new e.Promise(function(n,r){var a,d=setTimeout(function(){r(new Error("Initial View Timeout"))},1e4);i.params.appContext=w,h.showContent(e.one("#content > .view"),{view:{name:i.name,config:i.params}},function(i){e.one("body").removeClass("dark-loader"),i._params&&(i._params.keyEventScope=i.name+i._yuid),i.setViewDataOnHistory("referrer",document.referrer),i.set("isRootView",!0),i.initialize().then(function(){u(),e.Analytics&&(e.Analytics.learn(),e.Analytics.enableAdobeAnalytics(window.appContext.flipper.isFlipped("enable-adobe-analytics")),i.updateDataLayer(),e.Analytics.sendPageView()),w.getKeyboardManager().setCurrentKeyEventScope(i.name+i._yuid),s(),e.DeferImages.init(),e.Accessibility.manageFocusOutlines(i),e.rapidTracker.beaconScroll(i),t(["campaignID","linkID"]),(function(){if(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod){var i=e.all("[data-view-signature]");i.size()&&m.warn("View signature mismatches detected! A view likely modified the `params` object directly.",{views:i.getDOMNodes()})}})(),clearTimeout(d),n()}).then(null,function(e){throw m.error("There was a problem initializing or activating the view.",{err:e}),r(),e})}),h.before("navigate",o),h.before("activeViewChange",l),e.on("history:change",c),h.after("activeViewChange",p),(a=e.one('link[href*="rollup.css"]'))&&(a.get("sheet")?(w.isCSSLoaded=!0,e.fire("css-loaded")):a.once("load",function(){w.isCSSLoaded=!0,e.fire("css-loaded")}))})}function g(i,n,t,r){var a={};return e.Views&&e.Views[i]&&(a[i]={type:e.Views[i],preserve:!1}),h=new e.App({serverRouting:!0,viewContainer:"#content",container:"#content",linkSelector:":not(.server-only-link):not([target=_blank])",scrollToTop:!1,views:a}),new e.FlickrRouter(h,e.config.flickr.routes),r.auth=n,r.flapp=h,w=(function(i){return window.appContext=new e.AppContext(i),window.appContext})(r),w.routeTiming=r.routeTiming,w.routeConfig=r.routeConfig,e.mix(e.Node.DOM_EVENTS,{transitionend:!0,webkitTransitionEnd:!0}),e.ClientTransport.authorize(w),window.addEventListener("unload",function(i){e.ClientTransport.unloading=!0}),window.addEventListener("load",function(i){e.ClientTransport.unloading=!1}),w.modelImportExport.importAll(t)}var w,h,m=require("hermes-core/flog")(i),v=!1,y=e.config.flickr.clientNavEnabled;e.ClientApp={init:function(i){if(void 0===i)return e.Promise.reject({message:"Invalid config object supplied, was undefined."});var o,s,c=i.initialView,l=i.modelExport,u=i.auth,d=this;return u||n(),o=u&&i.auth.signedIn?i.auth.csrf:null,e.config.flickr.csrf.token=o,e.config.flickr.requestConfig={auth:u},i.params.routeTiming=i.routeTiming,i.params.routeConfig=i.routeConfig,t(e.config.flickr.routing_params),window.location.search&&window.location.search.match(/yc=/)&&(s=e.QueryString.parse(window.location.search.replace("?","")),e.config.flickr.ycParam=s.yc),e.transportFactory=function(i,n){return new e.ClientTransport(n)},r(c.name,e).then(function(){return g(c.name,u,l,i.params)}).then(function(){return f(c)}).then(function(){e.AnchorRepositioner.jumpTo(),e.config.win.addEventListener("beforeunload",a.bind(d))}).then(e.config.win.onappinit)},beforeUnload:a,beforeNavigate:o,_loadInitialView:r,langBundles:["client-app"],updateRapidTracker:d,disableClientNav:n},e.mix(e.ClientApp,e.Localizable)},"@VERSION@",{requires:["app-base","app-content","router","app-context","client-transport","flickr-router","handlebars-helpers","loader-bar","murmurhash","node","rapid","site-key","better-use","flickr-promise","global-events","querystring-parse-simple","querystring-stringify-simple","storage-helper","keyboard-manager","dom","overflow-helper","defer-images","accessibility","anchor-repositioner","analytics"],affinity:"client",langBundles:["client-app"]});YUI.add("csrf-updater",function(t){"use strict";var e=require("hermes-core/flog")("csrf");t.CsrfUpdater=function(t){this.flickrAPI=t,this._tasks=[]},t.CsrfUpdater.prototype.getKey=function(){return t.config.flickr.csrf.token||null},t.CsrfUpdater.prototype.isExpired=function(){return!!t.config.flickr.csrf.token&&Date.now()/1e3>t.config.flickr.csrf.csrfExpiresAt},t.CsrfUpdater.prototype.invalidate=function(t){var e=this._lastStored||0;if(t||(t=0),!(t<e))return this.setExpired()},t.CsrfUpdater.prototype.setExpired=function(){return t.config.flickr.csrf.csrfExpiresAt=0},t.CsrfUpdater.prototype.store=function(e,r){this._lastStored=Date.now(),r||(r=Math.floor(this._lastStored/1e3)),t.config.flickr.csrf.token=e,t.config.flickr.csrf.csrfFetched=r,t.config.flickr.csrf.csrfExpiresAt=r+t.config.flickr.csrf.fetch_interval,this.drainQueue()},t.CsrfUpdater.prototype.pushToQueue=function(t){this._tasks.push(t)},t.CsrfUpdater.prototype.drainQueue=function(){for(;this._tasks.length;)this._tasks.shift().resolve()},t.CsrfUpdater.prototype.hasQueuedTasks=function(){return!!this._tasks.length},t.CsrfUpdater.prototype.scheduleFutureFetch=function(){t.config.flickr.csrf.token&&(this._timerFutureFetch=setTimeout(this.fetch.bind(this),1e3*t.config.flickr.csrf.fetch_interval))},t.CsrfUpdater.prototype.scheduleRetry=function(e){var r=this,s=this._fetchRuns>4?1:Math.pow(2,(this._fetchRuns||1)-1)/10,i=t.config.flickr.csrf.retry_interval*s;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){r._timerRetry=null,r.fetch(e)},1e3*i)},t.CsrfUpdater.prototype.fetch=function(r){var s=this,i=s.hasQueuedTasks();if(clearTimeout(this._timerFutureFetch),YUI.Env.isServer){if(!r&&(r=new t.Promise(function(t,e){this.resolve=t,this.reject=e}),this.pushToQueue(r),i))return r;this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchCsrf().then(function(t){var i=t.token;if(!t.token)return e.error("Failed to fetch csrf token",t),void s.scheduleRetry(r);e.log("Received new csrf token",t),s._fetchRuns=0,s.store(i),s.scheduleFutureFetch()},function(t){e.error("Failed to fetch csrf token",{err:t}),s.scheduleRetry(r)})}else t.ClientApp&&t.ClientApp.disableClientNav();return r}},"@VERSION@",{requires:["client-app"]});YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.16.0",{requires:["base-base","pluginhost"]});
YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.16.0",{requires:["yui-base"]});
YUI.add("flickr-view",function(e,i){var t=require("hermes-core/flog")(i),r=require("hermes-core/fletrics");e.FlickrView=e.Base.create("flickrView",e.Base,[],{viewState:null,subviews:{},subviewConfig:null,_eventHandles:null,initializer:function(e){return this.appContext=e.appContext,delete e.appContext,""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.set("headContainer",""),this.isBuilt=!1,this.isActivated=!1,this.isErrorBuilt=!1,this.subviewsWithLoadingError={},this._params=e||{},this.isMobile=e.isMobile,this.subviews={},this._eventHandles=[],this.appContext&&!this.appContext.viewTiming&&(this.appContext.viewTiming={}),this.appContext&&(this.appContext.viewTiming[this.name]={initialize:0,loadState:0,buildContainer:0,buildHeadContainer:0,activate:0}),this},initialize:function(i){var n=this;return this.initializeStartTime=Date.now(),this.isErrorBuilt=!1,this.serverRendered=!(!i||!i.serverRendered)&&i.serverRendered,n.beforeDestroy&&(n.beforeDestroyHandler=n.before("destroy",n.beforeDestroy)),YUI.Env.isServer||this.registerEventHandler(this.appContext.flapp.after("activeViewChange",function(e){n.normalizedActivate()})),this.on("parentViewEvent",this.handleParentViewEvent.bind(this,this.name)),this.setupSubviews().then(function(){var e,i;if(n.isErrorBuilt){if(n.error.is404)throw n.error;throw i=new Error("Subview of "+n.name+" causing loadState error"),n.error&&(i.message+=": "+n.error.message,n.error.method&&(i.message+=", method="+n.error.method),i.message+=" | subview failure: "+n.error.fatal,n.error.wasDealbreaker&&(i.message+=" dealbreaker failed "),n.error.wasMultipleSubviews&&(i.message+=" multiple subviews failed "),i.fatal=n.error.fatal),i}if(n.loadStateTimingStart=Date.now(),!(e=n.loadState()))throw new Error("View "+n.name+" loadState function does not return a promise");return e}).then(function(){if(n.appContext&&n.appContext.viewTiming&&n.appContext.viewTiming[n.name]&&(n.appContext.viewTiming[n.name].loadState=Date.now()-n.loadStateTimingStart),YUI.Env.isServer||!n.get("container").hasClass("requiredToShowOnServer")||i&&i.wasDeferred){var e=Date.now();try{n.buildContainer()}catch(e){throw t.error("Error building",{topic:n.name,err:e}),n.fire("loadingError",{message:e.message,fatal:!0,wasDealbreaker:!0}),n.buildErrorContainer(),n.isErrorBuilt=!0,e}if(n.appContext&&n.appContext.viewTiming&&n.appContext.viewTiming[n.name]&&(n.appContext.viewTiming[n.name].buildContainer=Date.now()-e),n.get("isRootView")){n._buildFullRootViewAdditionalViewClasses();var r=n.get("rootViewAdditionalViewClasses");r&&r.length>0&&n.get("container").addClass(r.join(" "))}}n.isBuilt=!0,n.isErrorBuilt=!1,n.fire("loadingSuccess")},function(e){throw n.fire("loadingError",{message:e.message,fatal:e.fatal,is404:e.is404,wasMultipleSubviews:e.wasMultipleSubviews,wasDealbreaker:e.wasDealbreaker}),n.buildErrorContainer(),n.isErrorBuilt=!0,t.error("Error loading state",{topic:n.name,err:e}),e}).then(function(){var e,i;return n.isErrorBuilt||n.get("isActiveViewAgnostic")||(e=Date.now(),n._buildFullHeadMeta(),n.buildHeadContainer=Date.now()-e),YUI.Env.isServer||(n.shouldDeferSubviews&&n._setupDeferredSubviewsInitialization(),i=Date.now(),n.normalizedActivate(),n.appContext&&n.appContext.viewTiming&&n.appContext.viewTiming[n.name]&&(n.appContext.viewTiming[n.name].activate=Date.now()-i)),n.appContext&&n.appContext.viewTiming&&n.appContext.viewTiming[n.name]&&(n.appContext.viewTiming[n.name].initialize=Date.now()-n.initializeStartTime),!YUI.Env.isServer&&n._params.logViewTimings&&n.wasRequiredToShow&&r.set(n.name.replace(/\-/g,".")+".viewtiming",n.appContext.viewTiming[n.name].initialize),n},function(e){throw YUI.Env.isServer||(n.shouldDeferSubviews&&n._setupDeferredSubviewsInitialization(),n.normalizedActivate()),e}).catch(e.PromiseCatcher(this.name))},render:function(){return this},buildHeadContainer:function(){return this.set("headContainer",""),this},_buildSubviewHeadContainers:function(){var e=[],i=this;return Object.keys(this.subviews).forEach(function(t){-1===e.indexOf(i.subviews[t].get("headContainer"))&&e.push(i.subviews[t].get("headContainer"))}),e.sort(function(e,i){var t=e.toLowerCase().indexOf("<script")>-1,r=i.toLowerCase().indexOf("<script")>-1;return t&&!r?1:!t&&r?-1:0}).join("")},_buildFullHeadMeta:function(){var e;return this.buildHeadContainer(),e=this.get("headContainer"),e=e.concat(this._buildSubviewHeadContainers()),this.set("headContainer",e.concat("")),this},setRootViewAdditionalViewClasses:function(){return this.set("rootViewAdditionalViewClasses",[]),this},_buildFullRootViewAdditionalViewClasses:function(){var e=[];return e=e.concat(this._buildSubviewRootViewAdditionalViewClasses()),this.set("rootViewAdditionalViewClasses",e),this},_buildSubviewRootViewAdditionalViewClasses:function(){this.setRootViewAdditionalViewClasses();var e=this.get("rootViewAdditionalViewClasses")||[],i=this;return Object.keys(this.subviews).forEach(function(t){var r=i.subviews[t]._buildSubviewRootViewAdditionalViewClasses();e=e.concat(r)}),e},_setupDeferredSubviewsInitialization:function(){setTimeout(function(){var i=e.config.win.document.body;i.scrollTop>0||i.clientHeight-50<=i.scrollHeight?this._loadDeferredSubviews():(this.deferredViewScrollListener=e.globalEvents.subscribe("window:scroll",this._loadDeferredSubviews.bind(this)),this.registerEventHandler(this.deferredViewScrollListener))}.bind(this),10)},_loadDeferredSubviews:function(){this.loadingDeferred||(this.loadingDeferred=!0,this._removeDeferredViewScrollListener(),this._recursivelyLoadDeferredSubview(0,!1))},_removeDeferredViewScrollListener:function(){this.deferredViewScrollListener&&(this.deferredViewScrollListener.detach(),this.deferredViewScrollListener=null)},_recursivelyLoadDeferredSubview:function(i,r){var n=Object.keys(this.subviewConfig||[]).filter(function(e){var i=this.subviewConfig[e];return!0!==i.disabled&&(("function"!=typeof i.disabled||!i.disabled.call(this,this._params))&&this.subviewConfig[e].canDefer)}.bind(this)),a=this;if(i<=n.length-1){var s,o=n[i],u=e.merge(this._params,this.subviewConfig[o]);u.container=null,u.wasDeferred=!0,t.log("Loading deferred view",{topic:a.name,view:o});try{s=this.appContext.getView(o,u)}catch(e){return void this._onDeferredViewLoadingError(i,r,e)}s.then(function(e){if(!e)return t.error("An error occured trying to load the deferred view.",{topic:a.name}),r?(i++,r=!1):r=!0,void a._recursivelyLoadDeferredSubview(i,r);e.initialize(u).then(function(){e.on("subviewViewEvent",function(i){i&&i.details&&i.details.length&&a.onSubviewEvent.call(a,e.name,i.details)}),u&&u.additionalViewClasses&&u.additionalViewClasses.forEach(function(i){e.get("container").addClass(i)}),a._addDeferredViewToDOM(e),e.normalizedActivate(),i++,a._recursivelyLoadDeferredSubview(i,!1)}).catch(a._onDeferredViewLoadingError.bind(this,i,r))})}},_onDeferredViewLoadingError:function(e,i,r){t.error("An error occured trying to initialize the deferred view",{topic:this.name,err:r}),i?(e++,i=!1):i=!0,this._recursivelyLoadDeferredSubview(e,i)},_addDeferredViewToDOM:function(e){if(e){var i=this.get("container").one("."+e.name),r=e.get("container");i&&r?i.replace(r):t.error("Could not add view to DOM in _addDeferredViewToDOM",{topic:this.name,view:e.name})}else t.error("Non-view passed to _addDeferredViewToDOM.",{topic:this.name})},attachKeyEvent:function(e,i,t){return this.registerEventHandler(this.appContext.getKeyboardManager().on(e,t||this._params.keyEventScope||"*",i.bind(this)))},setContainerHTML:function(e){var i=this;return this.get("container").setHTML(e),YUI.Env.isServer||(this.get("container").generateID(),Object.keys(this.subviews||{}).forEach(function(e,t,r){var n=i.subviews[e],a=n.get("container"),s=n.getId?n.getId():a._yuid,o=i.get("container").one("#"+s);o&&o.replace(a)})),this},setupSubviews:function(){var i,r=this,n=[],a=[],s=[],o=this.appContext.flipper.isFlipped("enable-non-blocking-on-non-required-views"),u={};if(!this.subviewConfig)return e.Promise.resolve();if(Object.keys(this.subviewConfig).forEach(function(e){!0!==r.subviewConfig[e].disabled&&("function"==typeof r.subviewConfig[e].disabled&&r.subviewConfig[e].disabled.call(r,r._params)||(u[e]=r.subviewConfig[e]))}),Object.keys(u).map(function(l){i=YUI.Env.isServer?u[l].requiredToShowOnServer||u[l].requiredToShow||r.appContext.forceServerRender&&!u[l].neverShowOnServer:u[l].requiredToShowOnClient||u[l].requiredToShow;var c=e.merge(r._params,u[l]);if(!r.shouldDeferSubviews&&c.canDefer&&delete c.canDefer,r.shouldDeferSubviews&&c.canDefer){t.log("Deferring subview.",{topic:r.name,view:l});(o?s:n).push(r.instantiateSubview(l,c).then(function(e){return e.setContainerHTML(""),e.get("container").addClass("deferred-view"),e}))}else if(i){(o?a:n).push(r.instantiateSubview(l,c).then(function(e){return e.wasRequiredToShow=!0,r.setupSubview(l,c,e)}))}else{(o?s:n).push(r.instantiateSubview(l,c).then(function(i){i.wasRequiredToShow=!1,YUI.Env.isServer||e.soon(function(){r.setupSubview(l,c,i)})}))}}).filter(function(e){return!!e}),o){return(a.length?e.Promise.all(a):e.Promise.resolve()).then(function(){s.length&&!YUI.Env.isServer&&e.Promise.all(s).then(function(){r.buildContainer(),r.normalizedActivate()})})}return n.length?e.Promise.all(n):e.Promise.resolve()},registerSubview:function(e,i){i||(i=e.name),this.subviews[i]=e},instantiateSubview:function(i,r){var n=this;return r.container=this.getContainer({isSubview:!0,subviewName:i,subviewParams:r}),this.appContext.getView(i,r).then(null,function(){return t.log("getView failed to load view, retrying once more."),n.appContext.getView(i,r)}).then(function(e){return e.on("loadingError",n.handleSubviewLoadingError.bind(n)),e.on("loadingSuccess",n.handleSubviewLoadingSuccess.bind(n)),e.on("subviewViewEvent",n.handleSubviewEvent.bind(n,e.name)),n.registerSubview(e,i),e._params&&(e._params.keyEventScope=n._params.keyEventScope),e}).catch(e.PromiseCatcher(this.name))},onSubviewEvent:function(e,i){return!0},onParentViewEvent:function(e,i){return!0},handleSubviewEvent:function(e,i){var t=i?i.details||[]:[];!1!==this.onSubviewEvent(e,t)&&this.fire.apply(this,["subviewViewEvent"].concat(t))},handleParentViewEvent:function(e,i){var t,r=i?i.details||[]:[];if(!1!==this.onParentViewEvent(e,r))for(t in this.subviews)this.subviews[t].fire.apply(this.subviews[t],["parentViewEvent"].concat(r))},handleSubviewLoadingSuccess:function(e){this.subviewsWithLoadingError[e.target.name]&&delete this.subviewsWithLoadingError[e.target.name]},handleSubviewLoadingError:function(e){var i;this.subviewConfig[e.target.name].dealbreaker&&(this.hasDealbreakerSubviewLoadingError=!0),this.subviewsWithLoadingError[e.target.name]=e.details[0],this.isErrorBuilt||(i=Object.keys(this.subviewsWithLoadingError),(this.hasDealbreakerSubviewLoadingError||i.length>=2)&&(this.error={message:"",fatal:!0},i.forEach(function(e,t){var r=this.subviewsWithLoadingError[e];t!==i.length-1?this.error.message+="["+e+"] "+r.message+" | ":this.error.message+="["+e+"] "+r.message,r.is404&&(this.error.is404=!0),r.method&&(this.error.method+=r.method),r.fatal||(this.error.fatal=!1)}.bind(this)),this.fire("loadingError",{message:this.error.message,fatal:this.error.fatal,is404:this.error.is404,wasDealbreaker:this.hasDealbreakerSubviewLoadingError,wasMultipleSubviews:i&&i.length>=2}),this.buildErrorContainer(),this.isErrorBuilt=!0,t.error("subview forced the error loading state",{topic:this.name,view:e.target.name})))},setupSubview:function(i,r,n){var a=this;return r=e.merge(r||{}),r.alreadyRendered=a.alreadyRendered,n.set("isActiveViewAgnostic",a.get("isActiveViewAgnostic")),n.initialize(r).then(function(){return a.subviews[i]},function(e){t.error("Error getting/initializing view",{topic:a.name,err:e,view:i})}).catch(e.PromiseCatcher(this.name))},attachEvents:function(i){if(i){var t={},r=this;Object.keys(i).forEach(function(n){var a,s;a={selector:(n.match(/([\w-_#\.\[\]~|$^*= ]+) /i)||[])[1]||"[data-action]",type:(n.match(/([\w]+):/i)||[])[1]||"click",action:(n.match(/:([\w]+)/i)||[])[1]||"_default_"},t[s=a.selector+"/"+a.type]||(t[s]={},r.registerEventHandler(r.get("container").delegate(a.type,function(i){var n,o,u,l;if(n=i.target.ancestor(a.selector,!0),"click"===a.type&&(o=i.target.ancestor(".server-only-link",!0)))return!0===i.metaKey||!0===i.ctrlKey?void 0:void(e.config.win.location=o.get("href"));if(n&&(u=n.getData()||{},l=u.action||"_default_",t[s].hasOwnProperty(l))){if(!t[s][l])throw new Error('Handler for "'+l+'" UI event is undefined');t[s][l].call(r,i,u)}},a.selector))),t[s][a.action]=i[n]})}},registerEventHandler:function(i){if(e.Lang.isFunction(i.detach))return this._eventHandles.push(i),i},detachRegisteredEvent:function(i){var t=this._eventHandles.indexOf(i);-1!==t&&e.Lang.isFunction(i.detach)&&(i.detach(),this._eventHandles.splice(t,1))},detachRegisteredEvents:function(){this._eventHandles.length&&(this._eventHandles.forEach(function(e){e.detach()}),this._eventHandles=[])},generateSignature:function(i,t){var r,n={},a=function(e){var i=0;if(0===e.length)return i;for(var t=0;t<e.length;t++)i=(i<<5)-i+(r=e.charCodeAt(t)),i&=i;return i};return e.Object.each(t,function(e,i){"container"!==i&&"appContext"!==i&&"context"!==i&&"cspNonce"!==i&&"parentView"!==i&&"keyEventScope"!==i&&void 0!==e&&"function"!=typeof e&&(n[i]="object"==typeof e?1:e)}),i+"__"+Object.keys(n).sort().map(function(e){var i,t;try{i=encodeURIComponent(e)}catch(t){i=encodeURIComponent(a(e))}try{t=encodeURIComponent(n[e])}catch(t){i=encodeURIComponent(a(n[e]))}return i+"_"+t}).join("__")},getContainer:function(i){(i=i||{}).subviewParams=i.subviewParams||{};var t,r,n,a,s=["view",i.subviewName||i.viewName||this.name],o=i.subviewName?i.subviewParams.additionalViewClasses:this.additionalViewClasses,u=i.subviewParams.preferredViewTag||"div";return(!i.isSubview||i.subviewParams.requiredToShowOnServer||i.subviewParams.requiredToShow)&&YUI.Env.isServer&&s.push("requiredToShowOnServer"),this.theme&&s.push(this.theme),e.Lang.isArray(o)&&o.length?s=s.concat(o):e.Lang.isFunction(o)&&(a=o.call(this),e.Lang.isArray(a)&&a.length&&(s=s.concat(a))),i.subviewName||s.push(e.FlickrView.ROOT_VIEW_CLASS_NAME),s=' class="'+s.join(" ")+'"',i.subview?t=i.subview.getId():i.subviewName&&i.subviewParams&&(t=this.generateSignature(i.subviewName,i.subviewParams)),YUI.Env.isServer?r={html:"",setHTML:function(e){this.html=e},getHTML:function(e){return this.html},get:function(e){switch(e){case"innerHTML":return this.html;case"outerHTML":return"<"+u+" "+s+(n?' style="'+Object.keys(n).reduce(function(e,i,t,r){return e+i+": "+n[i]+(t<r.length-1?"; ":"")},"")+'"':"")+(t?' data-view-signature="'+t+'"':"")+">"+this.html+"</"+u+">"}return null},hasChildNodes:function(){return!1},addClass:function(e){""!==(e=e.trim())&&(s=s.slice(0,-1)+" "+e+'"')},hasClass:function(e){return s.split('"')[1].split(" ").indexOf(e)>-1},removeClass:function(e){var i=s.split('"')[1].split(" "),t=i.indexOf(e);-1!==t&&(i.splice(t,1),s=' class="'+i.join(" ")+'"')},setStyle:function(e,i){n||(n={}),n[e]=i},setStyles:function(e){n||(n={}),Object.keys(e).forEach(function(i){n[i]=e[i]})},appendChild:function(e){this.html+=e.html},all:function(){return{each:function(){}}},one:function(){return null}}:(t&&(r=this.get("container").one('[data-view-signature="'+t+'"]')),r?r.removeAttribute("data-view-signature"):r=e.Node.create("<"+u+" "+s+"></"+u+">")),r},renderSubviews:function(){var e=this;return Object.keys(this.subviews).forEach(function(i,r,n){try{e.subviews[i].render()}catch(r){t.error("Error rendering view",{topic:e.name,err:r,view:i})}}),{}},templates:function(i){var r,n=e.Template.get("hermes/"+i),a=this.getLangBundles(),s=this;if(a.locales=this.appContext.lang||this.defaultLang,"function"!=typeof n)throw t.error("Template not found",{topic:this.name,template:i}),new Error("Template not found: "+i);return this.appContext.flipper&&(r=this.appContext.flipper),function(e){return!(e=e||{}).flippers&&r&&(e.flippers=r.toJSON()),e.isMobile=s._params.isMobile,e.cspNonce=s._params.cspNonce,s.appContext.forceServerRender&&(e.isServerRendered=!0),Object.keys(s.subviewConfig||{}).forEach(function(i){e[i]||(e[i]=s.subviews[i]?s.subviews[i].get("container"):"")}),n(e,{data:{intl:a,flippers:e.flippers}})}},loadState:function(){return e.Promise.resolve()},updateHead:function(){null!==this.get("headContainer")&&(e.one("head").all('[data-dynamic="true"]').remove(!0),e.one("head").append(this.get("headContainer")))},canActivate:function(){var e=!1;return(this.isBuilt||this.isErrorBuilt)&&(this.isActivated||this.isErrorActivated||this.isActiveAndInDOM()&&(e=!0)),e},isActiveAndInDOM:function(){var e=this.get("container");return e&&(this.get("isActiveViewAgnostic")||this.appContext.flapp.get("activeView").get("container").contains(e))&&e.inDoc()},activate:function(){return this},activateSubviews:function(){var e,i;for(e in this.subviews){i=this.subviews[e];try{i.normalizedActivate(),i.recursivelyActivateSubviews()}catch(i){t.error("Error activating view",{topic:this.name,err:i,view:e})}}return this},recursivelyActivateSubviews:function(e){var i,r,n=e||this.subviews;for(i in n)if((r=n[i]).canActivate()){r.normalizedActivate();try{r.normalizedActivate(),this.recursivelyActivateSubviews(r.subviews)}catch(e){t.error("Error activating view",{topic:this.name,err:e,view:r})}}return this},normalizedActivate:function(){this.canActivate()&&(this.isErrorBuilt?(this.isErrorActivated=!0,this.activateErrorContainer()):(e.rapidTracker.refreshTracker(),this.activate(),this.isActivated=!0,this.activateSubviews()))},buildErrorContainer:function(){this.setContainerHTML("")},activateErrorContainer:function(){var e=this,i=this.get("container").one(".retry");i&&i.on("click",function(i){i.preventDefault(),e.isErrorActivated=!1,e.initialize()})},setViewDataOnHistory:function(i,t){return e.HistoryHelper.setData(this.name,i,t)},getViewDataFromHistory:function(i){return e.HistoryHelper.getData(this.name,i)},getTrackingSegments:function(){return{}},updateDataLayer:function(){},reload:function(i,t){var r=this,n=[];if(!i.length)return e.Promise.resolve();for(var a=0;a<i.length;a++)n.push(this.appContext.getModelRegistry(i[a]));return e.Promise.all(n).then(function(e){for(var i=0;i<e.length;i++)Array.isArray(t)?e[i].remove(t[i]):e[i].remove(t);YUI.Env.isServer||r.appContext.flapp.navigate(r.appContext.getLocation().href)}).catch(e.PromiseCatcher(this.name))},destroy:function(i){this.set("destroyed",!0);var t,r=this.get("container");if(this.detachRegisteredEvents(),!YUI.Env.isServer&&this.isActiveAndInDOM()){this.setRootViewAdditionalViewClasses();var n=this.get("rootViewAdditionalViewClasses")||[],a=e.one("."+e.FlickrView.ROOT_VIEW_CLASS_NAME);n&&a&&n.forEach(function(e){a.removeClass(e)})}return this._removeDeferredViewScrollListener(),e.Node&&r&&(r.detach&&r.detach(),i&&(i.remove||i.delete)&&r.remove&&r.remove(!0),this.set("container",null)),this.destroySubviews(),t=e.FlickrView.superclass.destroy.call(this),this.beforeDestroyHandler&&this.beforeDestroyHandler.detach(),t},destroySubviews:function(){var e=this;Object.keys(this.subviews||{}).forEach(function(i,t,r){e.subviews[i].destroy()})},bringIntoFocus:function(){var e=this.get("container"),i=e.getAttribute("tabindex")||null;e.setAttribute("tabindex","-1"),e.focus(),e.blur(),i?e.setAttribute("tabindex",i):e.removeAttribute("tabindex")},setContainerWithTemplate:function(e,i){this.setContainerHTML(this.templates(e)(i))},godMessage:e.godMessage},{ATTRS:{container:{value:"",setter:function(e){return e||this.getContainer()}},spaceid:{value:792600503,validator:function(i){return e.Lang.isNumber(i)||e.Lang.isString(i)},setter:function(e){return parseInt(e,10)}},trackedElementIDs:{value:[],validator:function(i){return e.Lang.isArray(i)}},rapidConf:{value:{},validator:function(i){return e.Lang.isObject(i)}},isActiveViewAgnostic:{value:!1},isRootView:{value:!1},rootViewAdditionalViewClasses:{value:[],validator:function(i){return e.Lang.isArray(i)}}},create:function(i,r,n,a,s){e.namespace("Views"),e.Views[i]&&t.warn("A view with this name already exists. Did you mean to redefine it?",{view:i}),a.destroy&&a.destroy!==e.FlickrView.prototype.destroy&&t.warn("`destroy` method was overridden. Did you mean `destructor`?",{view:i}),a.initialize&&a.initialize!==e.FlickrView.prototype.initialize&&t.warn("`initialize` method was overridden. Did you mean `initializer`?",{view:i});try{e.Views[i]=e.Base.create(i,r,n,a,s)}catch(r){throw t.warn("`Base.create` method failed, maybe because of Chrome 51?",{view:i}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("`Base.create` method failed, maybe because of Chrome 51?",e.config.win.location.href,r),r}if(r&&r!==e.FlickrView&&r.prototype&&r.prototype.langBundles){var o=[],u=(e.Views[i].prototype.langBundles||[]).concat(r.prototype.langBundles);o=e.Array.dedupe(u),e.Views[i].prototype.langBundles=o}return e.Views[i]},ROOT_VIEW_CLASS_NAME:"flickr-view-root-view"}),e.mix(e.FlickrView.prototype,e.Localizable)},"@VERSION@",{requires:["base","template-base","flickr-promise","handlebars-base","handlebars-helpers","localizable","history-helper","god-message"]});YUI.add("hermes-template-photo-page-scrappy",function(e,t){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,a,l,o){var n=null!=t?t:{},u=a.helperMissing,r=e.escapeExpression;return r((a.outlet||t&&t.outlet||u).call(n,null!=t?t["global-nav-view"]:t,{name:"outlet",hash:{},data:o}))+"\n"+r((a.outlet||t&&t.outlet||u).call(n,null!=t?t["photo-well-view"]:t,{name:"outlet",hash:{},data:o}))+"\n"+r((a.outlet||t&&t.outlet||u).call(n,null!=t?t["sub-photo-view"]:t,{name:"outlet",hash:{},data:o}))+"\n"+r((a.outlet||t&&t.outlet||u).call(n,null!=t?t["signup-footer-view"]:t,{name:"outlet",hash:{},data:o}))+"\n"+r((a.outlet||t&&t.outlet||u).call(n,null!=t?t["footer-full-view"]:t,{name:"outlet",hash:{},data:o}))+"\n"},useData:!0}),l={};e.Array.each([],function(t){var a=e.Template.get("hermes/"+t);a&&(l[t]=a)}),e.Template.register("hermes/photo-page-scrappy",function(t,o){return o=o||{},o.partials=o.partials?e.merge(l,o.partials):l,a(t,o)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("signin-helper",function(e){function n(n,o){e.FlickrStorage.store(n,o)}function o(n,o){var i,t;o&&o.withPopup?(i=e.config.win.open(r(o),"_blank","height=650,resizable=1,scrollbars=1,location=yes"),t=setInterval(function(){i.closed&&(clearInterval(t),window.location.reload())},1e3)):e.config.win.location=r(o)}function r(n){(n=n||{}).closeWhenDone&&(n.postLoginUrl=e.url("/photo_grease_postlogin.gne",{protocol:!1}));var o=n.postLoginUrl||e.config.win.location.href;return(n.url||e.url("/signin/",{protocol:!1}))+"?redir="+encodeURIComponent(o)}function i(n,o){var r=(o=o||{}).postLoginUrl||e.config.win.location.href,i=o.url||e.url("/signup/",{protocol:!1});e.config.win.location=i+"?redir="+encodeURIComponent(r)}e.FlickrStorage={_storageKey:"flickrStorage",store:function(n,o){try{var r=[];e.StorageHelper.hasEntries(this._storageKey)&&(r=this.retrieve()),r.push({key:n,value:o}),e.StorageHelper.setItem(this._storageKey,JSON.stringify(r))}catch(e){}},retrieve:function(){var n={};try{n=JSON.parse(e.StorageHelper.getItem(this._storageKey))}catch(e){}return n},remove:function(){try{e.StorageHelper.remove(this._storageKey)}catch(e){}},hasEntries:function(){return e.StorageHelper.hasEntries(this._storageKey)}},e.SigninHelper={savePreLoginAction:n,addPendingFave:function(e,r){n("fave",e),o(0,r)},addPendingComment:function(e,n){o(0,n)},addPendingShare:function(e,r){n("share",e),o(0,r)},addPendingFollow:function(e,r){n("follow",e),o(0,r)},addPendingJoinGroup:function(e,r){n("joingroup",e),o(0,r)},addPendingDownload:function(e,r){n("download",e),o(0,r)},checkPendingQueue:function(n){var o,r,i=[];if(n){if(e.FlickrStorage.hasEntries()){o=e.FlickrStorage.retrieve();for(r in o)(function(e,n){var o=n.key,r=n.value;switch(o){case"fave":return(function(e,n){var o=n.id;e.getModelRegistry("photo-engagement-models").then(function(e){var n=e.proxy(o);n.registry.addAsFave(o)&&n.remoteUpdate()})})(e,r),!0;case"share":return!1}})(n,o[r])||i.push(o[r])}return e.FlickrStorage.remove(),i}},_redirectToSignin:o,_redirectToSignUp:i,_getSigninUrl:r,signUpPendingFave:function(e,o){n("fave",e),i(0,o)},signUpPendingComment:function(e,n){i(0,n)},signUpPendingFollow:function(e,o){n("follow",e),i(0,o)},signUpPendingJoinGroup:function(e,o){n("joingroup",e),i(0,o)},signUpPendingDownload:function(e,o){n("download",e),i(0,o)}}},"@VERSION@",{requires:["url","storage-helper"]});YUI.add("yui-throttle",function(e,t){
/*! Based on work by Simon Willison: http://gist.github.com/292562 */
;e.throttle=function(t,n){n=n?n:e.config.throttleTime||150;if(n===-1)return function(){t.apply(this,arguments)};var r=e.Lang.now();return function(){var i=e.Lang.now();i-r>n&&(r=i,t.apply(this,arguments))}}},"3.16.0",{requires:["yui-base"]});
YUI.add("hermes-template-photo-well-scrappy",function(a,e){var l=a.Template.Handlebars.revive({1:function(a,e,l,n,t){return" enable-zoom"},3:function(a,e,l,n,t){return" no-click"},5:function(a,e,l,n,t){return" is-hidden"},7:function(a,e,l,n,t){var i;return a.escapeExpression("function"==typeof(i=null!=(i=l["prev-url"]||(null!=e?e["prev-url"]:e))?i:l.helperMissing)?i.call(null!=e?e:{},{name:"prev-url",hash:{},data:t}):i)},9:function(a,e,l,n,t){return"#"},11:function(a,e,l,n,t){var i;return a.escapeExpression("function"==typeof(i=null!=(i=l["prev-title"]||(null!=e?e["prev-title"]:e))?i:l.helperMissing)?i.call(null!=e?e:{},{name:"prev-title",hash:{},data:t}):i)},13:function(a,e,l,n,t){var i;return a.escapeExpression("function"==typeof(i=null!=(i=l["next-url"]||(null!=e?e["next-url"]:e))?i:l.helperMissing)?i.call(null!=e?e:{},{name:"next-url",hash:{},data:t}):i)},15:function(a,e,l,n,t){var i;return a.escapeExpression("function"==typeof(i=null!=(i=l["next-title"]||(null!=e?e["next-title"]:e))?i:l.helperMissing)?i.call(null!=e?e:{},{name:"next-title",hash:{},data:t}):i)},17:function(a,e,l,n,t){var i=null!=e?e:{},r=l.helperMissing,s=a.escapeExpression;return"\t\t"+s((l.outlet||e&&e.outlet||r).call(i,null!=e?e["photo-sidebar-toggle-view"]:e,{name:"outlet",hash:{},data:t}))+"\n\t\t"+s((l.outlet||e&&e.outlet||r).call(i,null!=e?e["attribution-view"]:e,{name:"outlet",hash:{},data:t}))+"\n\t\t"+s((l.outlet||e&&e.outlet||r).call(i,null!=e?e["people-notes-view"]:e,{name:"outlet",hash:{},data:t}))+"\n\t\t"+s((l.outlet||e&&e.outlet||r).call(i,null!=e?e["photo-engagement-view"]:e,{name:"outlet",hash:{},data:t}))+"\n"},19:function(a,e,l,n,t){var i,r=null!=e?e:{},s=l.helperMissing,o=a.escapeExpression;return"\t\t<a class='entry-type do-not-evict' href='"+o("function"==typeof(i=null!=(i=l.entryURL||(null!=e?e.entryURL:e))?i:s)?i.call(r,{name:"entryURL",hash:{},data:t}):i)+'\'><div class="icon"></div> '+o("function"==typeof(i=null!=(i=l.backToLabel||(null!=e?e.backToLabel:e))?i:s)?i.call(r,{name:"backToLabel",hash:{},data:t}):i)+"</a>\n"},21:function(a,e,l,n,t){var i,r=null!=e?e:{},s=l.helperMissing,o=a.escapeExpression;return'\t\t<a href="'+o("function"==typeof(i=null!=(i=l.similaritySearchURL||(null!=e?e.similaritySearchURL:e))?i:s)?i.call(r,{name:"similaritySearchURL",hash:{},data:t}):i)+'" class="similarity-search-link" data-track="photoPageSimilaritySearchClick" title="'+o((l.intlMessage||e&&e.intlMessage||s).call(r,{name:"intlMessage",hash:{intlName:"common.SEARCH_FOR_SIMILAR_PHOTOS"},data:t}))+'"><svg class="icon icon-search"><use xlink:href="#icon-search"></use></svg></a>\n'},23:function(a,e,l,n,t){return"\t\t"+a.escapeExpression((l.outlet||e&&e.outlet||l.helperMissing).call(null!=e?e:{},null!=e?e["photo-limit-overlay-view"]:e,{name:"outlet",hash:{},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(a,e,l,n,t){var i,r,s=null!=e?e:{},o=l.helperMissing,u=a.escapeExpression;return'<div class="height-controller'+(null!=(i=l.if.call(s,null!=e?e.enableZoom:e,{name:"if",hash:{},fn:a.program(1,t,0),inverse:a.noop,data:t}))?i:"")+'" style="height: '+u("function"==typeof(r=null!=(r=l.height||(null!=e?e.height:e))?r:o)?r.call(s,{name:"height",hash:{},data:t}):r)+'px;">\n\n\t<a class="navigate-target navigate-prev'+(null!=(i=l.if.call(s,null!=e?e["prev-is-not-clickable"]:e,{name:"if",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t}))?i:"")+(null!=(i=l.if.call(s,null!=e?e["is-hidden"]:e,{name:"if",hash:{},fn:a.program(5,t,0),inverse:a.noop,data:t}))?i:"")+'" href="'+(null!=(i=l.if.call(s,null!=e?e["prev-url"]:e,{name:"if",hash:{},fn:a.program(7,t,0),inverse:a.program(9,t,0),data:t}))?i:"")+'" title="'+(null!=(i=l.if.call(s,null!=e?e["prev-url"]:e,{name:"if",hash:{},fn:a.program(11,t,0),inverse:a.noop,data:t}))?i:"")+'" data-track="prevPhotoButtonClick" data-action="ad" style="height: '+u("function"==typeof(r=null!=(r=l.navHeight||(null!=e?e.navHeight:e))?r:o)?r.call(s,{name:"navHeight",hash:{},data:t}):r)+'px;"><span class="hide-text">&larr;</span></a>\n\n\t'+u((l.outlet||e&&e.outlet||o).call(s,null!=e?e["photo-well-media-view"]:e,{name:"outlet",hash:{},data:t}))+"\n\t"+u((l.outlet||e&&e.outlet||o).call(s,null!=e?e["photo-notes-scrappy-view"]:e,{name:"outlet",hash:{},data:t}))+'\n\n\t<a class="navigate-target navigate-next'+(null!=(i=l.if.call(s,null!=e?e["next-is-not-clickable"]:e,{name:"if",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t}))?i:"")+(null!=(i=l.if.call(s,null!=e?e["is-hidden"]:e,{name:"if",hash:{},fn:a.program(5,t,0),inverse:a.noop,data:t}))?i:"")+'" href="'+(null!=(i=l.if.call(s,null!=e?e["next-url"]:e,{name:"if",hash:{},fn:a.program(13,t,0),inverse:a.program(9,t,0),data:t}))?i:"")+'"  title="'+(null!=(i=l.if.call(s,null!=e?e["next-url"]:e,{name:"if",hash:{},fn:a.program(15,t,0),inverse:a.noop,data:t}))?i:"")+'" data-track="nextPhotoButtonClick" data-action="ad" style="height: '+u("function"==typeof(r=null!=(r=l.navHeight||(null!=e?e.navHeight:e))?r:o)?r.call(s,{name:"navHeight",hash:{},data:t}):r)+'px;"><span class="hide-text">&rarr;</span></a>\n\n'+(null!=(i=l.unless.call(s,null!=e?e["is-ad"]:e,{name:"unless",hash:{},fn:a.program(17,t,0),inverse:a.noop,data:t}))?i:"")+"\n"+(null!=(i=l.unless.call(s,null!=e?e.hideBackToLink:e,{name:"unless",hash:{},fn:a.program(19,t,0),inverse:a.noop,data:t}))?i:"")+"\n"+(null!=(i=l.if.call(s,null!=e?e.similaritySearchURL:e,{name:"if",hash:{},fn:a.program(21,t,0),inverse:a.noop,data:t}))?i:"")+"\n\t"+u((l.outlet||e&&e.outlet||o).call(s,null!=e?e["context-slider-view"]:e,{name:"outlet",hash:{},data:t}))+"\n\n"+(null!=(i=l.if.call(s,null!=e?e.showPhotoLimitOverlay:e,{name:"if",hash:{},fn:a.program(23,t,0),inverse:a.noop,data:t}))?i:"")+"</div>\n"},useData:!0}),n={};a.Array.each([],function(e){var l=a.Template.get("hermes/"+e);l&&(n[e]=l)}),a.Template.register("hermes/photo-well-scrappy",function(e,t){return t=t||{},t.partials=t.partials?a.merge(n,t.partials):n,l(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});